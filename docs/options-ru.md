API
===
Опции хранятся в таблице `admin_options` в виде ключ - значение. Значение опции в таблице хранится в виде JSON.
Для работы с опциями можно использовать как хелпер `option()` так и фасад `Skoro\AdminPack\Facades\Option`. Как хелпер так и фасад используют репозиторий
`Skoro\AdminPack\Repositories\OptionRepository`. Репозиторий обеспечивает следущие методы
для доступа к опциям:
- `get(string $name, $default = null)`
- `set($name, $value = null)`
- `exists(string $name): bool`
- `delete(string $name): int`
- `all(): array`

### option()
- `option()` возвращает репозиторий опций.
- `option($key, $default)` получить значение опции `$key`, если опция не найдена, то вернуть `$default`.
- `option(['key' => 'value'])` изменить или создать опцию, если `$key` не найден, то новая опция будет создана.

### Фасад `Skoro\AdminPack\Facades\Option`
- `exists(string $key): bool` проверка существования опции.
- `get(string $key, $default = null)` получить значение опции и, если опция не найдена, то вернуть `$default`.
- `set($key, $value = null)` обновить или создать новую опцию, если `$key` массив, то можно обновить или создать сразу несколько опций, например:
```
Option::set(['opt1' => 'value1', 'opt2' => 'value2']);
```
- `delete(string $key)` удалить опцию.
- `all()` получить список названий всех опций.

Стандартные опции
=================
|Опция|Значение по-умолчанию|Описание|
|-----|---------------------|--------|
|user_password_min|(int) 6|Минимальная длина пароля при создании пользователя.|
|user_login_name  |name   |Предпочтительный метод логина пользователей: по имени (name) или по email.|

Страница опций
==============
Для пользователя с правами `system: manage options` доступная страница опций.
Эта страница создается динамически в зависимости от наявных опций.
Чтобы опция была доступна на этой странице должна быть соответствующая запись в таблице `admin_option_elements`.
Все элементы группируются во вкладки, см. поле `group` ниже.

Поля `admin_option_elements`:
| Поле       | Описание |
|------------|----------|
|option_name |Название опции для которой создается элемент.|
|perm_id     |ID права доступа из таблицы `permissions` (пока не используется).|
|label       |Заголовок элемента.|
|description |Описание элемента.|
|group       |Название вкладки в которой будет расположен элемент.|
|values      |Ограничить выбор только указанными значениями, используется для виджетов select, radiolist, хранится в виде JSON.|
|validators  |[Валидаторы](https://laravel.com/docs/7.x/validation#available-validation-rules)|
|widget      |Виджет элемента: checkbox, input, select, radiolist.|
|priority    |Приоритет, чем меньше, тем выше будет расположен элемент.|

Пример добавления элементов находится в файле `/src/Seeders/OptionElementSeeder.php`.

Управление опциями из командной строки
======================================

```
artisan option:list
```
Показывает все доступные опции и их значения.

```
artisan option:get name
```
Показывает значение опции `name`.

```
artisan option:set name value
```
Устанавливает новое значение для опции `name`. При помощи этой команды можно установить только простое значение опции, список, массив установить нельзя. Если в качестве `value` строка *true/false* то она преобразовывается в соответствующее значение *boolean*.

```
artisan option:delete name
```
Удалить опцию `name`.

